# Commercial Vehicle Output Files

Travel Model Two generates comprehensive commercial vehicle (truck) demand matrices and analysis outputs for freight and service vehicle movements.

## Truck Demand Matrices

### Trip Generation Results
**File Pattern**: `demand_matrices/commercial/truck_generation_[truck_class].csv`

**Description**: Trip productions and attractions by MAZ for each truck class

**Truck Classes**:
1. **Very Small Trucks** (2-axle, 4-tire) - Service vehicles, small delivery
2. **Small Trucks** (2-axle, 6-tire) - Medium delivery, service trucks  
3. **Medium Trucks** (3-axle) - Large delivery, construction vehicles
4. **Large Trucks** (4+ axle) - Heavy freight, combination vehicles

**Format**: CSV with columns:
```
MAZ,productions,attractions,balanced_productions,balanced_attractions
```

**Content**:
- Raw model-generated trip ends
- Balanced productions and attractions
- Balancing factors applied

### Trip Distribution Results
**File Pattern**: `demand_matrices/commercial/truck_od_[truck_class]_[time_period].omx`

**Description**: Origin-destination trip tables by truck class and time period

**Matrix Names**:
- `TRIPS` - Total daily trips
- `AM_TRIPS` - AM peak period trips  
- `PM_TRIPS` - PM peak period trips
- `OFFPEAK_TRIPS` - Off-peak period trips

### Commercial Vehicle Summary
**File Pattern**: `output_summaries/commercial_vehicle_summary.csv`

**Content**:
- Total trips by truck class
- Average trip length by class
- VMT by truck type and area type
- Temporal distribution patterns

## Trip Generation Analysis

### Employment-Based Generation
**File Pattern**: `output_summaries/truck_generation_by_employment.csv`

**Description**: Trip generation rates by employment sector

**Employment Categories**:
- `RETEMPN` - Retail employment
- `FPSEMPN` - Food/personal services
- `HEREMPN` - Health/education/recreation  
- `OTHEMPN` - Other employment
- `AGREMPN` - Agriculture/natural resources
- `MWTEMPN` - Manufacturing/wholesale/transportation

**Trip Rates**: Trips per employee by truck class and employment type

### Household-Based Generation
**File Pattern**: `output_summaries/truck_generation_by_households.csv` 

**Description**: Service vehicle trips generated by residential areas

**Content**:
- Household service vehicle rates
- Delivery and service trip patterns
- Residential area commercial activity

## Trip Distribution Analysis

### Friction Factors
**File Pattern**: `commercial/friction_factors_[truck_class].csv`

**Description**: Distance-based impedance factors used in gravity model

**Format**: CSV with columns:
```
distance_bin,friction_factor,calibrated_factor
```

### K-Factors Application
**File Pattern**: `commercial/k_factors_applied_[truck_class].csv`

**Description**: Spatial adjustment factors applied to base trip distribution

**Content**:
- Origin zone k-factors
- Destination zone k-factors  
- Adjustment ratios by geography

### Blended Impedance
**File Pattern**: `commercial/blended_impedance_[truck_class].omx`

**Description**: Combined time and distance impedance matrices

**Components**:
- Travel time impedance
- Distance impedance  
- Blending parameters by truck class

## Temporal Distribution

### Time-of-Day Factors
**File Pattern**: `commercial/time_of_day_factors.csv`

**Description**: Factors for distributing daily trips to time periods

**Format**: CSV with columns:
```
truck_class,EA,AM,MD,PM,EV
```

**Content**:
- Share of daily trips by time period
- Different patterns by truck class
- Peak/off-peak distribution

### Directional Factors
**File Pattern**: `commercial/directional_factors.csv`

**Description**: AM/PM directional split factors

**Content**:
- Morning peak direction preference
- Evening peak direction preference
- Varies by truck class and trip purpose

## Special Generators

### Airport Freight
**File Pattern**: `commercial/airport_freight_[airport].csv`

**Description**: Freight trips to/from airport facilities

**Airports Included**:
- SFO - San Francisco International
- OAK - Oakland International
- SJC - San Jose International

**Content**:
- Air cargo truck trips
- Ground service equipment
- Passenger service vehicles

### Port Freight
**File Pattern**: `commercial/port_freight_[port].csv`

**Description**: Freight movements to/from port facilities

**Ports Included**:
- Oakland Port
- Richmond Port
- Redwood City Port

**Content**:
- Container truck movements
- Bulk cargo vehicles
- Port service traffic

### Industrial Facilities
**File Pattern**: `commercial/industrial_generators.csv`

**Description**: Major industrial facility freight patterns

**Facility Types**:
- Refineries
- Manufacturing plants
- Distribution centers
- Construction sites

## External Commercial Vehicles

### External-Internal Trips
**File Pattern**: `commercial/external_internal_trucks.omx`

**Description**: Commercial vehicle trips crossing model boundary

**External Stations**: 21 external gateway locations

**Content**:
- Through trips by truck class
- Internal-external trips
- External-internal trips
- Growth rates by forecast year

### Through Trips
**File Pattern**: `commercial/through_trucks.omx`

**Description**: Commercial vehicles passing through region

**Content**:
- External-external movements
- Truck class distribution
- Route assignment impacts

## Model Calibration Outputs

### Observed vs. Modeled Comparison
**File Pattern**: `output_summaries/truck_calibration_summary.csv`

**Content**:
- Truck count validation
- Classification accuracy
- Temporal pattern validation
- Geographic distribution checks

### Calibration Adjustments
**File Pattern**: `commercial/calibration_adjustments.csv`

**Description**: Parameters adjusted during model calibration

**Content**:
- Trip rate adjustments
- Friction factor modifications
- K-factor calibration values
- Temporal distribution adjustments

## Network Assignment Results

### Truck Volumes by Link
**Included in**: `hwy/load[TimePeriod].net`

**Link Attributes**:
- `@vol_sm` - Small truck volume (classes 1-2)
- `@vol_hv` - Heavy vehicle volume (classes 3-4)  
- `@pct_truck` - Truck percentage of total volume

### Truck VMT Summary
**File Pattern**: `output_summaries/truck_vmt_[time_period].csv`

**Content**:
- VMT by truck class and facility type
- Network performance impacts
- Freight corridor utilization
- Truck speed and delay

## Data Processing Notes

### Trip Purpose Segmentation
- **Service Trips**: Household-serving commercial vehicles
- **Freight Trips**: Goods movement between businesses
- **Construction**: Temporary construction-related trips
- **Waste/Utility**: Service utility and waste collection

### Geographic Detail
- **Generation**: MAZ-level (40,000+ zones)
- **Distribution**: TAZ-level (1,454 zones)  
- **Assignment**: Full network detail

### Temporal Resolution
- **Daily**: 24-hour period
- **Peak Periods**: AM (6-10), PM (3-7)  
- **Off-Peak**: EA, MD, EV periods

### Model Integration
- **Feedback**: Truck volumes affect highway congestion
- **Land Use**: Employment-based trip generation
- **External**: Coordination with regional freight forecasts

## Quality Assurance

### Validation Targets
1. **Total Truck VMT**: Regional truck VMT targets
2. **Truck Counts**: Validation against classification counts
3. **Temporal Patterns**: Peak/off-peak distribution validation
4. **Facility Type**: Truck usage by highway functional class
5. **Geographic Distribution**: Truck activity by county/area

### Key Performance Indicators
- Truck percentage of total traffic
- Average trip length by truck class  
- Freight activity per employee
- External truck trip validation
- Seasonal variation factors
